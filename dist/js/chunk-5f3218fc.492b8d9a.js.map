{"version":3,"sources":["webpack:///./src/Components/reportDetail.vue?b5dc","webpack:///src/Components/reportDetail.vue","webpack:///./src/Components/reportDetail.vue?831b","webpack:///./src/Components/reportDetail.vue","webpack:///./src/Components/reportDetail.vue?fcc1","webpack:///./src/Views/management/index.vue?42fa","webpack:///src/Views/management/index.vue","webpack:///./src/Views/management/index.vue?43aa","webpack:///./src/Views/management/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","clinicalProgram","nonClinicalProgram","violenceProgram","staticClass","local","items","status","class","getReportStatusTrans","color","staticStyle","margin-right","_v","_s","value","_e","attrs","open","moment","initialReport","incidentDate","format","hn","name","age","area","affectedPerson","reportDate","reporter","violenceReport","violence","getViolenceTitle","clinical","general","analysisReport","eventBriefing","comment","causeAnalysis","note","staticRenderFns","reportDetailvue_type_script_lang_js_","props","report","type","Object","required","components","data","moment_default","a","programLists","ordering","eventReport","computed","selectObjByKey","programReport","nonClinical","programType","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchConfigReport","stop","apply","arguments","methods","_fetchConfigReport","_callee2","err","res","_ref","_ref2","_context2","await_to_js_es5","app_service","getResource","resourceName","app_config","api","config","sent","slicedToArray","abrupt","reportConfig","keyArray","_this","map","item","newItem","key","options","filter","title","getClinicalProgramTitle","common","reportStatus","watch","handler","deep","Components_reportDetailvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reportDetail_vue_vue_type_style_index_0_id_2f71b9d2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_reportDetail_vue_vue_type_style_index_0_id_2f71b9d2_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","directives","rawName","expression","on","change","$event","$$selectedVal","Array","prototype","call","target","o","selected","val","_value","$set","multiple","domProps","_l","index","_id","click","event","_m","getDepartmentName","departmentId","managementvue_type_script_lang_js_","NavigationBar","navigation","reportDetail","idSelected","departmentOptions","departmentOptionsDefault","departmentInput","managementLists","fetchReportData","fetchData","fetchDepartmentData","_fetchReportData","concat","$route","params","GO_TOPAGE","_fetchData","_callee3","_ref3","_ref4","_context3","management","_fetchDepartmentData","_callee4","_ref5","_ref6","_context4","department","filterOutDepartment","departmentSelected","includes","_event","_callee5","queryString","tf","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_args5","_context5","length","undefined","t0","$validator","validate","postResource","reportId","$swal","text","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","managementId","deleteResource","$notify","group","_x","Views_managementvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-5f3218fc.492b8d9a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (\n   _vm.clinicalProgram\n   && _vm.nonClinicalProgram\n   && _vm.violenceProgram)?_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-body\"},[(_vm.local.items && _vm.local.items.status)?_c('div',{staticClass:\"chip\"},[_c('i',{class:['fas fa-circle', _vm.getReportStatusTrans(this.local.items.status).color],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\"\\n         \"+_vm._s(_vm.getReportStatusTrans(this.local.items.status).value)+\"\\n       \")]):_vm._e(),_c('details',{staticClass:\"accordion\",attrs:{\"open\":\"\"}},[_c('summary',{staticClass:\"accordion-header\"},[_vm._v(\"\\n           รายละเอียดเบื้องต้น\\n         \")]),_c('div',{staticClass:\"accordion-body empty\"},[_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"วันที่เกิดเหตุ: \"+_vm._s(_vm.moment(_vm.initialReport.incidentDate).format('DD-MM-YYYY')))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"HN: \"+_vm._s(_vm.initialReport.hn))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ชื่อ-นามสกุล: \"+_vm._s(_vm.initialReport.name))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"อายุ: \"+_vm._s(_vm.initialReport.age))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"แผนกบริเวณที่พบเหตุ: \"+_vm._s(_vm.initialReport.area))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ผู้ที่ได้รับผลกระทบ: \"+_vm._s(_vm.initialReport.affectedPerson))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"วันที่รายงาน: \"+_vm._s(_vm.moment(_vm.initialReport.reportDate).format('DD-MM-YYYY')))])])]),(_vm.IS_ADMIN)?_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ผู้รายงาน: \"+_vm._s(_vm.initialReport.reporter))])])]):_vm._e()])]),(_vm.violenceReport && _vm.violenceReport.violence)?_c('details',{staticClass:\"accordion\",attrs:{\"open\":\"\"}},[_c('summary',{staticClass:\"accordion-header\"},[_vm._v(\"\\n           ระดับความรุนแรง\\n         \")]),_c('div',{staticClass:\"accordion-body empty\"},[(_vm.violenceReport.violence.clinical)?_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ระดับความรุนแรงทางคลินิก:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.getViolenceTitle('clinical', _vm.violenceReport.violence.clinical)))])])]):_vm._e(),(_vm.violenceReport.violence.general)?_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ระดับความรุนแรงทั่วไป:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.getViolenceTitle('general', _vm.violenceReport.violence.general)))])])]):_vm._e()])]):_vm._e(),_c('details',{staticClass:\"accordion\",attrs:{\"open\":\"\"}},[_c('summary',{staticClass:\"accordion-header\"},[_vm._v(\"\\n           การวิเคราะห์และการอธิบาย\\n         \")]),_c('div',{staticClass:\"accordion-body empty\"},[_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"บรรยายสรุปเหตุการณ์ที่เกิด:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.analysisReport.eventBriefing))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"ความเห็นหัวหน้างาน/ฝ่าย:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.analysisReport.comment))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"วิเคราะห์สาเหตุและแนวทางแก้ไข:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.analysisReport.causeAnalysis))])])]),_c('div',{staticClass:\"tile tile-centered m-1\"},[_c('div',{staticClass:\"tile-content\"},[_c('div',{staticClass:\"tile-title\"},[_vm._v(\"หมายเหตุ:\")]),_c('div',{staticClass:\"tile-subtitle\"},[_vm._v(_vm._s(_vm.analysisReport.note))])])])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n <div class=\"panel\" v-if=\"\n    clinicalProgram\n    && nonClinicalProgram\n    && violenceProgram\">\n      <!-- <div class=\"panel-header\">\n        <div class=\"panel-title h6 text-bold\">รายละเอียด: xxxxx</div>\n      </div> -->\n      <div class=\"panel-body\">\n        <div class=\"chip\" v-if=\"local.items && local.items.status\">\n          <i :class=\"['fas fa-circle', getReportStatusTrans(this.local.items.status).color]\" style=\"margin-right: 5px\"></i>\n          {{getReportStatusTrans(this.local.items.status).value}}\n        </div>\n        <details class=\"accordion\" open>\n          <summary class=\"accordion-header\">\n            รายละเอียดเบื้องต้น\n          </summary>\n          <div class=\"accordion-body empty\">\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">วันที่เกิดเหตุ: {{moment(initialReport.incidentDate).format('DD-MM-YYYY')}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">HN: {{initialReport.hn}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ชื่อ-นามสกุล: {{initialReport.name}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">อายุ: {{initialReport.age}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">แผนกบริเวณที่พบเหตุ: {{initialReport.area}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ผู้ที่ได้รับผลกระทบ: {{initialReport.affectedPerson}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">วันที่รายงาน: {{moment(initialReport.reportDate).format('DD-MM-YYYY')}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\" v-if=\"IS_ADMIN\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ผู้รายงาน: {{initialReport.reporter}}</div>\n                <!-- <div class=\"tile-subtitle\"></div> -->\n              </div>\n            </div>\n          </div>\n        </details>\n        <!-- <details class=\"accordion\" open>\n          <summary class=\"accordion-header\">\n            รูปแบบของเหตุการณ์ ({{programReport.programType}})\n          </summary>\n          <div class=\"accordion-body empty\" v-if=\"programReport.programType === 'clinical'\">\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">การทบทวนเวชระเบียน</div>\n                <div class=\"tile-subtitle\">{{getClinicalProgramTitle('review', programReport.program.common.review)}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">โปรแกรมความเสี่ยงด้านการดูแลผู้ป่วย (PCT)</div>\n                <div class=\"tile-subtitle\">{{getClinicalProgramTitle('PCT', programReport.program.common.PCT)}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">โปรแกรมความเสี่ยงด้านการป้องกันและควบคุมการติดเชื้อ (IC)</div>\n                <div class=\"tile-subtitle\">{{getClinicalProgramTitle('IC', programReport.program.common.IC)}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">โปรแกรมความเสี่ยงด้านระบบยา/ความคลาดเคลื่อนทางยา(PTC)</div>\n                <div class=\"tile-subtitle\">{{getClinicalProgramTitle('PTC', programReport.program.common.PTC)}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">โปรแกรมความเสี่ยงด้านการผ่าตัด/วิสัญญี</div>\n                <div class=\"tile-subtitle\">{{getClinicalProgramTitle('operation', programReport.program.common.operation)}}</div>\n              </div>\n            </div>\n          </div>\n          <div class=\"accordion-body empty\" v-else>\n\n          </div>\n        </details> -->\n\n        <details class=\"accordion\" open v-if=\"violenceReport && violenceReport.violence\">\n          <summary class=\"accordion-header\">\n            ระดับความรุนแรง\n          </summary>\n          <div class=\"accordion-body empty\">\n            <div class=\"tile tile-centered m-1\" v-if=\"violenceReport.violence.clinical\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ระดับความรุนแรงทางคลินิก:</div>\n                <div class=\"tile-subtitle\">{{getViolenceTitle('clinical', violenceReport.violence.clinical)}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\" v-if=\"violenceReport.violence.general\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ระดับความรุนแรงทั่วไป:</div>\n                <div class=\"tile-subtitle\">{{getViolenceTitle('general', violenceReport.violence.general)}}</div>\n              </div>\n            </div>\n          </div>\n        </details>\n\n        <details class=\"accordion\" open>\n          <summary class=\"accordion-header\">\n            การวิเคราะห์และการอธิบาย\n          </summary>\n          <div class=\"accordion-body empty\">\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">บรรยายสรุปเหตุการณ์ที่เกิด:</div>\n                <div class=\"tile-subtitle\">{{analysisReport.eventBriefing}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">ความเห็นหัวหน้างาน/ฝ่าย:</div>\n                <div class=\"tile-subtitle\">{{analysisReport.comment}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">วิเคราะห์สาเหตุและแนวทางแก้ไข:</div>\n                <div class=\"tile-subtitle\">{{analysisReport.causeAnalysis}}</div>\n              </div>\n            </div>\n            <div class=\"tile tile-centered m-1\">\n              <div class=\"tile-content\">\n                <div class=\"tile-title\">หมายเหตุ:</div>\n                <div class=\"tile-subtitle\">{{analysisReport.note}}</div>\n              </div>\n            </div>\n          </div>\n        </details>\n      </div>\n      <!-- <div class=\"panel-footer\">\n        <div class=\"input-group\">\n          <input class=\"form-input\" type=\"text\" placeholder=\"Hello\">\n          <button class=\"btn btn-primary input-group-btn\">Send</button>\n        </div>\n      </div> -->\n    </div>\n</template>\n\n<script>\nimport moment from 'moment';\nimport config from '@Config/app.config'\nimport service from '@Services/app.service'\nimport to from 'await-to-js';\nexport default {\n  props: {\n    report: {\n      type: Object,\n      required: true\n    }\n  },\n  components: {},\n  name: 'ReportDetailComponent',\n  data () {\n    return {\n      moment,\n      local: {\n        programLists: null,\n        items: null,\n        ordering: {\n          initialReport: [\n            'age',\n            'affectedPerson',\n            'area',\n            'hn',\n            'incidentDate',\n            'name',\n            'reportDate',\n            'reporter'\n          ],\n          eventReport: [\n            'programType',\n            'program'\n          ],\n          violenceReport: [\n            'violence'\n          ],\n          analysisReport: [\n            'causeAnalysis',\n            'eventBriefing',\n            'note',\n            'comment'\n          ]\n        }\n        \n      }\n    }\n  },\n  computed: {\n    initialReport () {\n      return this.selectObjByKey(this.local.ordering.initialReport)\n    },\n    programReport () {\n      return this.selectObjByKey(this.local.ordering.eventReport)\n    },\n    violenceReport () {\n      return this.selectObjByKey(this.local.ordering.violenceReport)\n    },\n    analysisReport () {\n      return this.selectObjByKey(this.local.ordering.analysisReport)\n    },\n\n    clinicalProgram () {\n      if (this.local.programLists && this.local.programLists.clinical) {\n        return this.local.programLists.clinical;\n      }\n      return null\n    },\n    nonClinicalProgram () {\n      if (this.local.programLists && this.local.programLists.nonClinical) {\n        return this.local.programLists.nonClinical;\n      }\n      return null\n    },\n    violenceProgram () {\n      if (this.local.programLists && this.local.programLists.violence) {\n        return this.local.programLists.violence;\n      }\n      return null\n    },\n    programType () {\n      return this.local.programType;\n    }\n  },\n  async created () {\n    await this.fetchConfigReport();\n    this.local.items = this.report\n    // console.log(this.programReport);\n  },\n  methods: {\n    async fetchConfigReport () {\n      // console.log('do');\n      let err, res;\n      [ err, res ] = await to(service.getResource({ resourceName: config.api.report.config }));\n      if(err) return;\n      this.local.programLists = res.data.reportConfig\n      // console.log(this.local.programLists);\n      // setTimeout( async() => {\n       \n      // }, 1000)\n    },\n    selectObjByKey (keyArray) {\n      let items = {}\n      if (this.local.items) {\n         keyArray.map((item) => {\n        let newItem = this.local.items[item];\n        items[item] = newItem\n      })\n      }\n     \n      return items;\n    },\n    getViolenceTitle  (type, key) {\n      return this.violenceProgram[type].options.filter((item) => {\n        return item.value === key\n      })[0].title\n    },\n    getClinicalProgramTitle (type, key) {\n      return this.clinicalProgram.common[type].options.filter((item) => {\n        return item.value === key\n      })[0].title\n    },\n    getReportStatusTrans (status) {\n      return config.reportStatus.filter((item) => {\n        return item.key === status\n      })[0]\n    }\n  },\n  watch: {\n    report: {\n        handler: function() {\n          this.local.items = this.report\n        },\n        deep: true\n    }\n  }\n   \n}\n</script>\n\n<style lang=\"scss\" scoped>\n.accordion .accordion-header{\n  padding: 5px 0px !important;\n}\n.empty{\n  padding: 10px 5px !important;\n  text-align: left !important;\n}\n.tile-title{\n  font-weight: bold;\n}\n.tile-subtitle{\n  margin-left: 10px;\n  white-space: unset !important;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reportDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reportDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./reportDetail.vue?vue&type=template&id=2f71b9d2&scoped=true&\"\nimport script from \"./reportDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./reportDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./reportDetail.vue?vue&type=style&index=0&id=2f71b9d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f71b9d2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reportDetail.vue?vue&type=style&index=0&id=2f71b9d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./reportDetail.vue?vue&type=style&index=0&id=2f71b9d2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container columns\"},[_c('navigation-bar'),_c('div',{staticClass:\"column col-4 col-md-12\"},[(_vm.local.report)?_c('report-detail',{attrs:{\"report\":_vm.local.report}}):_vm._e()],1),_c('div',{staticClass:\"column col-8 col-md-12\"},[_c('div',{staticClass:\"panel\"},[_c('div',{staticClass:\"panel-header columns\"},[_c('div',{staticClass:\"form-group column col-6\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.local.departmentInput),expression:\"local.departmentInput\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-select\",attrs:{\"name\":\"departmentInput\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.local, \"departmentInput\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"เลือกส่วนงาน\")]),_vm._l((_vm.local.departmentOptions),function(item,index){return _c('option',{key:index,domProps:{\"value\":item._id}},[_vm._v(_vm._s(item.name))])})],2)]),_c('div',{staticClass:\"column col-6\"},[_c('div',{staticClass:\"column col-md-4\"},[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.event('add')}}},[_vm._v(\"บันทึกข้อมูล\")])])])])]),_c('div',{staticClass:\"panel-body\"},[_c('div',{staticClass:\"card\"},[_vm._m(0),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table table-striped table-hover\"},[_c('tbody',_vm._l((_vm.local.managementLists),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(_vm.getDepartmentName(item.departmentId)))]),_c('td',[_c('button',{staticClass:\"btn btn-error\",on:{\"click\":function($event){return _vm.event('remove', {key: item.departmentId})}}},[_vm._v(\"ลบข้อมูล\")])])])}),0)])])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"card-title\"},[_vm._v(\"ตารางแสดงรายชื่อส่วนงานที่ต้องลงบันทึกและดำเนินการ\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container columns\">\n    <navigation-bar />\n    <div class=\"column col-4 col-md-12\">\n      <report-detail v-if=\"local.report\" :report=\"local.report\"/>\n    </div>\n    <div class=\"column col-8 col-md-12\">\n      <div class=\"panel\">\n        <div class=\"panel-header columns\">\n          <div class=\"form-group column col-6\">\n            <!-- <label class=\"form-label\">ส่วนงาน</label> -->\n            <select class=\"form-select\" v-model=\"local.departmentInput\" name=\"departmentInput\" v-validate=\"'required'\">\n              <option :value=\"null\">เลือกส่วนงาน</option>\n              <option :key=\"index\" v-for=\"(item, index) in local.departmentOptions\" :value=\"item._id\">{{item.name}}</option>\n            </select>\n            <!-- <p class=\"form-input-hint text-error\" v-if=\"errors.first('departmentInput')\">กรุณาตรวจสอบข้อมูลข้างต้น</p> -->\n          </div>\n          <div class=\"column col-6\">\n            <div class=\"column col-md-4\">\n              <div class=\"form-group\">\n                <button class=\"btn btn-primary\" @click=\"event('add')\">บันทึกข้อมูล</button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"panel-body\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <div class=\"card-title\">ตารางแสดงรายชื่อส่วนงานที่ต้องลงบันทึกและดำเนินการ</div>\n              <!-- <div class=\"card-subtitle text-gray\">...</div> -->\n            </div>\n            <div class=\"card-body\">\n              <table class=\"table table-striped table-hover\">\n                <tbody>\n                  <tr class=\"\" :key=\"index\" v-for=\"(item, index) in local.managementLists\">\n                    <td>{{getDepartmentName(item.departmentId)}}</td>\n                    <td><button class=\"btn btn-error\" @click=\"event('remove', {key: item.departmentId})\">ลบข้อมูล</button></td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavigationBar from '@Components/navigation'\nimport to from 'await-to-js';\nimport service from '@Services/app.service'\nimport config from '@Config/app.config'\nimport reportDetail from '@Components/reportDetail';\nexport default {\n  components: {\n    NavigationBar,\n    reportDetail\n  },\n  data () {\n    return {\n      local: {\n        idSelected: null,\n        departmentOptions: [],\n        departmentOptionsDefault: [],\n        departmentInput: null,\n        managementLists: null,\n        report: null\n      }\n    }\n  },\n  async created () {\n    await this.fetchReportData()\n    await this.fetchData()\n    this.fetchDepartmentData();\n  },\n  methods: {\n    async fetchReportData () {\n      let err, res;\n      [ err, res ] = await to(service.getResource({ resourceName: `${config.api.report.index}/${this.$route.params.key}`}));\n      if(err) return;\n      this.local.report = res.data.report\n      if (this.local.report.status === 'approved') {\n        this.GO_TOPAGE('Report')\n      }\n      // console.log(this.local.report);\n    },\n    async fetchData () {\n      let err, res;\n      [ err, res ] = await to(service.getResource({ resourceName: `${config.api.management.index}/${this.$route.params.key}` }));\n      if(err) return;\n      this.local.managementLists = res.data.management\n    },\n    async fetchDepartmentData () {\n      let err, res;\n      [ err, res ] = await to(service.getResource({ resourceName: config.api.department.index }));\n      if(err) return;\n      this.local.departmentOptions = res.data.department;\n      this.local.departmentOptionsDefault = res.data.department;\n      this.filterOutDepartment()\n    },\n    filterOutDepartment () {\n      let departmentSelected = this.local.managementLists.map((item) => {\n        return item.departmentId\n      })\n      this.local.departmentOptions = this.local.departmentOptions.filter((item) => {\n        return !departmentSelected.includes(item._id)\n      })\n    },\n    async event (type, data = null) {\n      let err, res, resourceName, queryString, tf;\n      switch(type) {\n        case 'add':\n          [ err, res ] = await to(this.$validator.validate());\n          if(err || !res) return\n          [ err, res ] = await to(service.postResource(\n            { \n              resourceName: config.api.management.index,\n              data: {\n                departmentId: this.local.departmentInput,\n                reportId: this.$route.params.key\n              }\n            }\n          ))\n          if(err) return;\n          await this.fetchData()\n          this.filterOutDepartment()\n          break;\n        case 'remove':\n          tf = await this.$swal({\n            text: \"ลบข้อมูลนี้!\",\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'ตกลง',\n            cancelButtonText: 'ยกเลิก',\n            reverseButtons: true\n          });\n          if (!tf.value) return;\n          resourceName = config.api.management.index;\n          data.managementId = this.$route.params.key\n          // console.log(data);\n           queryString = { departmentId: data.key, reportId: this.$route.params.key };\n          [ err, res ] = await to(service.deleteResource({ resourceName, queryString}));\n          if(err) return;\n          await this.fetchData()\n          this.fetchDepartmentData();\n          break;\n      }\n      this.local.departmentInput = null\n      \n      this.$notify({\n        group: 'default',\n        text: 'ทำรายการสำเร็จ',\n        type: 'success',\n      });\n      this.fetchReportData()\n    },\n    getDepartmentName (departmentId) {\n      let item = this.local.departmentOptionsDefault.filter((item) => {\n        return item._id === departmentId\n      });\n      if (item.length) {\n        return item[0].name\n      }\n      return '';\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=28c902a0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}